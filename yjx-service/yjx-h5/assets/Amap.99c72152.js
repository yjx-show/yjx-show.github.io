import{y as _,z as B,A as P,a2 as u,aV as S,B as x,aW as y,h as I,g as n,K as N,aF as M,P as T,a4 as $,a3 as E,aX as O,ax as D,G as F,a as K,u as L,o as V,r as U,b,c as z,d as m,e as H,f as R,w as j,F as G,m as W,N as X,ac as Y,k as q}from"./index.ea97895c.js";import{$ as J}from"./vant.66da6c3d.js";import"./index.8e3d99df.js";const[Q,r]=_("action-sheet"),Z=B({},P,{title:String,round:u,actions:S(),closeIcon:x("cross"),closeable:u,cancelText:String,description:String,closeOnPopstate:u,closeOnClickAction:Boolean,safeAreaInsetBottom:u}),ee=[...y,"round","closeOnPopstate","safeAreaInsetBottom"];var te=I({name:Q,props:Z,emits:["select","cancel","update:show"],setup(a,{slots:t,emit:d}){const o=e=>d("update:show",e),s=()=>{o(!1),d("cancel")},l=()=>{if(a.title)return n("div",{class:r("header")},[a.title,a.closeable&&n($,{name:a.closeIcon,class:[r("close"),E],onClick:s},null)])},c=()=>{if(t.cancel||a.cancelText)return[n("div",{class:r("gap")},null),n("button",{type:"button",class:r("cancel"),onClick:s},[t.cancel?t.cancel():a.cancelText])]},i=(e,p)=>e.loading?n(O,{class:r("loading-icon")},null):t.action?t.action({action:e,index:p}):[n("span",{class:r("name")},[e.name]),e.subname&&n("div",{class:r("subname")},[e.subname])],w=(e,p)=>{const{color:A,loading:f,callback:h,disabled:k,className:C}=e,g=()=>{k||f||(h&&h(e),a.closeOnClickAction&&o(!1),D(()=>d("select",e,p)))};return n("button",{type:"button",style:{color:A},class:[r("item",{loading:f,disabled:k}),C],onClick:g},[i(e,p)])},v=()=>{if(a.description||t.description){const e=t.description?t.description():a.description;return n("div",{class:r("description")},[e])}};return()=>n(T,N({class:r(),position:"bottom","onUpdate:show":o},M(a,ee)),{default:()=>{var e;return[l(),v(),n("div",{class:r("content")},[a.actions.map(w),(e=t.default)==null?void 0:e.call(t)]),c()]}})}});const ae=F(te),ne="e41e19bc267e";function oe({key:a=ne,success:t=function(){},error:d=function(){}}){if(window.AMap){t(window.AMap);return}let o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src=`https://webapi.amap.com/maps?v=1.4.15&key=${a}&callback=_amapInitMap`,o.onerror=function(s){J.errorMsg("\u9AD8\u5FB7\u5730\u56FE\u52A0\u8F7D\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),console.warn("\u9AD8\u5FB7\u5730\u56FE\u52A0\u8F7D\u5931\u8D25\uFF0Cerror:",s),d(s)},document.head.appendChild(o),window._amapInitMap=()=>{t(window.AMap)}}const se=W("div",{id:"map",style:{width:"100%",height:"300px"}},null,-1),ce=q("\u5BFC\u822A "),de={__name:"Amap",setup(a){const t=K().state.user.isNavBarShow,d=L(),o=()=>{d.go(-1)};V(()=>{oe({success(l){let c=new l.Map("map",{zoom:11,center:[117,39],viewMode:"3D"}),i=new l.Marker({position:[117,39],animation:"AMAP_ANIMATION_DROP"});c.add(i),l.plugin("AMap.ToolBar",function(){let w=new l.ToolBar;c.addControl(w)})}})});const s=U({show:!1,options:[{name:"\u9AD8\u5FB7\u5730\u56FE",url:"https://uri.amap.com/marker"},{name:"\u767E\u5EA6\u5730\u56FE",url:"https://api.map.baidu.com/marker"}],select:l=>{let{name:c,url:i}=l;switch(c){case"\u9AD8\u5FB7\u5730\u56FE":i+=`?position=${117},${39}`;break;case"\u767E\u5EA6\u5730\u56FE":i+=`?location=${39},${117}&output=html&src=webapp.baidu.openAPIdemo`;break;default:return}window.open(i)}});return(l,c)=>(b(),z(G,null,[m(t)?(b(),H(m(X),{key:0,title:"\u9AD8\u5FB7\u5730\u56FE","left-text":"\u8FD4\u56DE","left-arrow":"",onClickLeft:o})):R("",!0),se,n(m(Y),{icon:"share-o",type:"primary",onClick:c[0]||(c[0]=i=>s.show=!0)},{default:j(()=>[ce]),_:1}),n(m(ae),{description:"\u8BF7\u9009\u62E9\u5BFC\u822Aapp","cancel-text":"\u53D6\u6D88",show:s.show,"onUpdate:show":c[1]||(c[1]=i=>s.show=i),actions:s.options,onSelect:s.select},null,8,["show","actions","onSelect"])],64))}};export{de as default};
