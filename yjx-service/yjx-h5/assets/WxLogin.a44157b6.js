import{u as c,o as u,M as a,Q as d,$ as p,b as f,c as h}from"./index.ea97895c.js";const m={__name:"WxLogin",setup(w){c();const l=()=>{let t=window.location.href;if(!t.includes("?"))return"";let e=t.indexOf("?")+1,o=t.substr(e).split("&"),s="";for(let r=0;r<o.length;r++){let i=o[r].split("=");i[0]==="code"&&(s=i[1])}return s};return u(()=>{let t=l();if(t===""){window.location.href=`https://yjx.yjx-show.top:7770${a.api.user.getRedirectUri}`;return}d({url:a.api.login,method:"post",data:{code:t},success(e){p.setLocationStorage("token",e);let{origin:n,pathname:o}=window.location;window.location.href=`${n}${o}#/home`}})}),(t,e)=>(f(),h("div"))}};export{m as default};
