var k=Object.defineProperty,C=Object.defineProperties;var N=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var v=(s,e,t)=>e in s?k(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,h=(s,e)=>{for(var t in e||(e={}))R.call(e,t)&&v(s,t,e[t]);if(f)for(var t of f(e))j.call(e,t)&&v(s,t,e[t]);return s},y=(s,e)=>C(s,N(e));var x=(s,e,t)=>new Promise((o,n)=>{var r=a=>{try{l(t.next(a))}catch(_){n(_)}},u=a=>{try{l(t.throw(a))}catch(_){n(_)}},l=a=>a.done?o(a.value):Promise.resolve(a.value).then(r,u);l((t=t.apply(s,e)).next())});import{_ as w,b as B,c as S,m as g,p as q,q as E,s as I,a as L,u as T,r as U,t as Y,$ as b,v as F,x as m,g as i,w as p,d,F as z,i as V,k as $}from"./index.2e944e3f.js";import{N as A}from"./index.e39c1fe8.js";var D="/yjx-service/yjx-h5/assets/logo.03d6d6da.png";const G={},H={class:"header"},J=g("img",{class:"header__logo",src:D,alt:"logo"},null,-1),K=g("p",{class:"header__title"},"Young Live",-1),M=[J,K];function O(s,e){return B(),S("div",H,M)}var P=w(G,[["render",O]]);const Q=()=>{const s=q(""),e=E();return I(e,t=>{s.value=t.query.redirect||"/"},{immediate:!0}),{redirect:s}},W=()=>{const s=L(),e=T(),{redirect:t}=Q(),o=U({username:"",password:"",loading:!1}),n=r=>{if(b.hasEmoji(r.username)){F.fail("\u8BF7\u52FF\u8F93\u5165\u8868\u60C5\u5305");return}if(b.hasEmoji(r.password)){F.fail("\u8BF7\u52FF\u8F93\u5165\u8868\u60C5\u5305");return}o.loading=!0,s.dispatch("user/signIn",r).then(()=>x(void 0,null,function*(){A({type:"success",message:"\u767B\u5F55\u6210\u529F",duration:500}),o.loading=!1,s.dispatch("user/getInfo"),e.push({path:t.value})})).catch(()=>{o.loading=!1})};return y(h({},Y(o)),{onSubmit:n})};const X={style:{margin:"16px"}},Z=$(" \u63D0\u4EA4 "),ee=$("\u6CE8\u518C"),te={__name:"signin",setup(s){const{username:e,password:t,loading:o,onSubmit:n}=W();return(r,u)=>{const l=m("van-field"),a=m("van-button"),_=m("van-form");return B(),S(z,null,[i(P),i(_,{class:"form",onSubmit:d(n)},{default:p(()=>[i(l,{modelValue:d(e),"onUpdate:modelValue":u[0]||(u[0]=c=>V(e)?e.value=c:null),type:"text",name:"username",maxlength:"20",clearable:"",label:"\u7528\u6237\u540D",placeholder:"\u7528\u6237\u540D",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u7528\u6237\u540D"}]},null,8,["modelValue"]),i(l,{modelValue:d(t),"onUpdate:modelValue":u[1]||(u[1]=c=>V(t)?t.value=c:null),type:"password",name:"password",maxlength:"20",clearable:"",label:"\u5BC6\u7801",placeholder:"\u5BC6\u7801",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u5BC6\u7801"}]},null,8,["modelValue"]),g("div",X,[i(a,{round:"",block:"",type:"primary","native-type":"submit",loading:d(o)},{default:p(()=>[Z]),_:1},8,["loading"]),i(a,{style:{"margin-top":"10px"},plain:"",round:"",block:"",type:"primary","native-type":"button",to:"/signup"},{default:p(()=>[ee]),_:1})])]),_:1},8,["onSubmit"])],64)}}};var ne=w(te,[["__scopeId","data-v-2ec17e90"]]);export{ne as default};
